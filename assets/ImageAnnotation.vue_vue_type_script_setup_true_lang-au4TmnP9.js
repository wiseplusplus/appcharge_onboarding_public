import{c as z,d as A,y as L,z as F,o as r,a as d,b as s,n as b,l as y,F as _,r as k,t as v,f as C,u as E,j as w,m}from"./index-DGCodajw.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=z("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M={class:"relative w-full h-full flex flex-col md:flex-row gap-4 transition-all duration-300"},W={class:"relative w-full h-full"},j=["src","alt"],q=["onMouseenter"],I={key:0,class:"w-80 h-auto max-h-full bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden flex flex-col pointer-events-auto z-10"},B={class:"p-4 bg-slate-50 border-b border-slate-100 flex justify-between items-start shrink-0"},N={class:"font-bold text-lg text-slate-800"},V={class:"p-5 space-y-6 overflow-y-auto flex-1"},S={class:"text-sm text-slate-600 leading-relaxed"},T={class:"text-sm text-slate-600 leading-relaxed"},U={key:0},D={class:"flex flex-wrap gap-2"},K={key:1},O=["href"],X=A({__name:"ImageAnnotation",props:{src:{},alt:{},annotations:{}},setup(x){const a=m(null),c=m(null),u=m(null),f=m({width:0,height:0,left:0,top:0}),l=()=>{if(c.value&&u.value){const n=c.value,e=u.value,t=n.naturalWidth/n.naturalHeight,o=e.clientWidth/e.clientHeight;let i,h,p,g;o>t?(h=e.clientHeight,i=h*t,p=(e.clientWidth-i)/2,g=0):(i=e.clientWidth,h=i/t,p=0,g=(e.clientHeight-h)/2),f.value={width:i,height:h,left:p,top:g}}},R=n=>{a.value=n;const e=performance.now(),t=350,o=i=>{l(),i-e<t&&requestAnimationFrame(o)};requestAnimationFrame(o)};L(()=>{var e,t;window.addEventListener("resize",l),(e=c.value)!=null&&e.complete?l():(t=c.value)==null||t.addEventListener("load",l);const n=new ResizeObserver(()=>{l()});u.value&&n.observe(u.value)}),F(()=>{window.removeEventListener("resize",l)});const $=()=>{a.value=null;const n=performance.now(),e=350,t=o=>{l(),o-n<e&&requestAnimationFrame(t)};requestAnimationFrame(t)};return(n,e)=>(r(),d("div",M,[s("div",{ref_key:"containerRef",ref:u,class:b(["relative bg-slate-100 rounded-xl overflow-hidden border border-slate-200 shadow-sm group h-full transition-all duration-300 ease-in-out",a.value?"flex-[2]":"flex-1"])},[s("div",W,[s("img",{ref_key:"imageRef",ref:c,src:x.src,alt:x.alt||"Annotation Image",class:"w-full h-full object-contain",onLoad:l},null,40,j),s("div",{class:"absolute pointer-events-none transition-all duration-300 ease-in-out",style:y({width:`${f.value.width}px`,height:`${f.value.height}px`,left:`${f.value.left}px`,top:`${f.value.top}px`})},[(r(!0),d(_,null,k(x.annotations,t=>{var o;return r(),d("div",{key:t.id,class:b(["absolute border-2 border-dashed border-blue-400 bg-blue-500/10 hover:bg-blue-500/20 cursor-help transition-all duration-200 rounded-md pointer-events-auto",{"border-solid border-green-500 bg-green-500/20":((o=a.value)==null?void 0:o.id)===t.id}]),style:y({left:`${t.x}%`,top:`${t.y}%`,width:`${t.width}%`,height:`${t.height}%`}),onMouseenter:i=>R(t)},null,46,q)}),128))],4)])],2),s("div",{class:b(["relative shrink-0 flex flex-col justify-center transition-all duration-300 ease-in-out",a.value?"w-80 opacity-100 translate-x-0":"w-0 opacity-0 translate-x-4"])},[a.value?(r(),d("div",I,[s("div",B,[s("h3",N,v(a.value.content.title),1),s("button",{onClick:$,class:"text-slate-400 hover:text-slate-600"},[C(E(H),{class:"w-5 h-5"})])]),s("div",V,[s("div",null,[e[0]||(e[0]=s("h4",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Concept",-1)),s("p",S,v(a.value.content.concept),1)]),s("div",null,[e[1]||(e[1]=s("h4",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Usage",-1)),s("p",T,v(a.value.content.usage),1)]),a.value.content.keywords.length?(r(),d("div",U,[e[2]||(e[2]=s("h4",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Keywords",-1)),s("div",D,[(r(!0),d(_,null,k(a.value.content.keywords,t=>(r(),d("span",{key:t,class:"px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded-md font-medium"},v(t),1))),128))])])):w("",!0),a.value.content.reference?(r(),d("div",K,[e[3]||(e[3]=s("h4",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Resources",-1)),s("a",{href:a.value.content.reference,target:"_blank",class:"text-sm text-blue-600 hover:underline flex items-center gap-1"}," Learn more ",8,O)])):w("",!0)])])):w("",!0)],2)]))}});export{X as _};
